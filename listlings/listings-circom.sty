\NeedsTeXFormat{LaTeX2e}[1994/06/01]
\ProvidesPackage{PsiDirectory:/Users/kyrylr/Desktop/temp/lectures-tex/listings-circom}[2024/11/22 Custom Package]

\RequirePackage{xcolor}
\RequirePackage{listings}

\lstdefinelanguage{Circom}{%
  sensitive,%
  morecomment=[l]{//},%
  morecomment=[s]{/*}{*/},%
  morestring=[b]{\"},%
  alsoother={<,=,-,>,\\},%
  % Control flow keywords
  morekeywords={%
    if, else, for, while, do, return%
  },%
  % Signal types
  morekeywords=[2]{%
    input, output%
  },%
  % Constraint generators
  morekeywords=[3]{%
    <==, <--, ==>, -->, ===%
  },%
  % Variable declarations
  morekeywords=[4]{%
    var, signal, component, function, template%
  },%
  % Miscellaneous keywords
  morekeywords=[5]{%
    pragma, circom, custom\_templates, include, custom, parallel, bus, main, public, log, assert%
  },%
  % Operators
  morekeywords=[6]{%
    ++, --, !, ~, **, *, /, \\, \%, +, -, <<, >>, \&, ^, |, ==, !=, >, <, <=, >=, \&\&, ||, =, +=, -=, *=, **=, /=, \\=, \%=, <<=, >>=, \&=, ^=, |=%
  },%
}

\lstdefinestyle{colouredCircom}{%
  language=Circom,%
  basicstyle=\ttfamily,%
  commentstyle=\color[gray]{0.4},%
  stringstyle=\color[rgb]{0,0,0.5},%
  keywordstyle={\bfseries\color{blue}}, % [1] Control flow keywords
  keywordstyle=[2]{\color[rgb]{0.75,0,0}}, % [2] Signal types
  keywordstyle=[3]{\color[rgb]{0,0,1}}, % [3] Constraint generators
  keywordstyle=[4]{\color[rgb]{0.5,0,0.5}}, % [4] Variable declarations
  keywordstyle=[5]{\color[rgb]{0,0.5,0}}, % [5] Miscellaneous keywords
  keywordstyle=[6]{\color{blue}}, % [6] Operators
  columns=flexible,%
  keepspaces=true,%
  showspaces=false,%
  showtabs=false,%
  showstringspaces=false,%
  escapechar=^,
}

\lstdefinestyle{boxed}{%
  language=Circom,%
  style=colouredCircom,%
  numbers=left,%
  firstnumber=auto,%
  numberblanklines=true,%
  frame=single,%
  numberstyle=\tiny,%
  numbersep=7pt,%
  framesep=5pt,%
  framerule=1pt,%
  xleftmargin=15pt,%
  backgroundcolor=\color[gray]{0.97},%
  rulecolor=\color[gray]{0.90},%
}
